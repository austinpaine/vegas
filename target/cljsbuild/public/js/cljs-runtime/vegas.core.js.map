{"version":3,"sources":["vegas/core.cljs"],"mappings":"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","names":["vegas.core/nav-link","uri","title","page","cljs.core/deref","cljs.core._EQ_","re_frame.core.subscribe","vegas.core/navbar","with-let66868","reagent.ratom/with-let-values","temp__5739__auto__","reagent.ratom/*ratom-context*","c__54826__auto__","reagent.debug/has-console","reagent.debug/tracking","reagent.debug/track-console","js/console","init66869","res__54827__auto__","expanded?","reagent.core.atom","cljs.core.swap_BANG_","cljs.core/not","vegas.core/about-page","vegas.core/home-page","temp__5735__auto__","docs","markdown.core/md->html","vegas.core/page","temp__5733__auto__","vegas.core/navigate!","match","_","re-frame.core/dispatch","vegas.core/router","reitit.core.router","vegas.core/start-router!","reitit.frontend.easy/start!","vegas.core/mount-components","re-frame.core/clear-subscription-cache!","reagent.dom.render","js/document","vegas.core/init!","vegas.ajax/load-interceptors!"],"sourcesContent":["(ns vegas.core\r\n  (:require\r\n    [day8.re-frame.http-fx]\r\n    [reagent.dom :as rdom]\r\n    [reagent.core :as r]\r\n    [re-frame.core :as rf]\r\n    [goog.events :as events]\r\n    [goog.history.EventType :as HistoryEventType]\r\n    [markdown.core :refer [md->html]]\r\n    [vegas.ajax :as ajax]\r\n    [vegas.events]\r\n    [reitit.core :as reitit]\r\n    [reitit.frontend.easy :as rfe]\r\n    [clojure.string :as string])\r\n  (:import goog.History))\r\n\r\n(defn nav-link [uri title page]\r\n  [:a.navbar-item\r\n   {:href   uri\r\n    :class (when (= page @(rf/subscribe [:common/page])) :is-active)}\r\n   title])\r\n\r\n(defn navbar [] \r\n  (r/with-let [expanded? (r/atom false)]\r\n              [:nav.navbar.is-info>div.container\r\n               [:div.navbar-brand\r\n                [:a.navbar-item {:href \"/\" :style {:font-weight :bold}} \"vegas\"]\r\n                [:span.navbar-burger.burger\r\n                 {:data-target :nav-menu\r\n                  :on-click #(swap! expanded? not)\r\n                  :class (when @expanded? :is-active)}\r\n                 [:span][:span][:span]]]\r\n               [:div#nav-menu.navbar-menu\r\n                {:class (when @expanded? :is-active)}\r\n                [:div.navbar-start\r\n                 [nav-link \"#/\" \"Home\" :home]\r\n                 [nav-link \"#/about\" \"About\" :about]]]]))\r\n\r\n(defn about-page []\r\n  [:section.section>div.container>div.content\r\n   [:img {:src \"/img/warning_clojure.png\"}]])\r\n\r\n(defn home-page []\r\n  [:section.section>div.container>div.content\r\n   (when-let [docs @(rf/subscribe [:docs])]\r\n     [:div {:dangerouslySetInnerHTML {:__html (md->html docs)}}])])\r\n\r\n(defn page []\r\n  (if-let [page @(rf/subscribe [:common/page])]\r\n    [:div\r\n     [navbar]\r\n     [page]]))\r\n\r\n(defn navigate! [match _]\r\n  (rf/dispatch [:common/navigate match]))\r\n\r\n(def router\r\n  (reitit/router\r\n    [[\"/\" {:name        :home\r\n           :view        #'home-page\r\n           :controllers [{:start (fn [_] (rf/dispatch [:page/init-home]))}]}]\r\n     [\"/about\" {:name :about\r\n                :view #'about-page}]]))\r\n\r\n(defn start-router! []\r\n  (rfe/start!\r\n    router\r\n    navigate!\r\n    {}))\r\n\r\n;; -------------------------\r\n;; Initialize app\r\n(defn ^:dev/after-load mount-components []\r\n  (rf/clear-subscription-cache!)\r\n  (rdom/render [#'page] (.getElementById js/document \"app\")))\r\n\r\n(defn init! []\r\n  (start-router!)\r\n  (ajax/load-interceptors!)\r\n  (mount-components))\r\n"]}